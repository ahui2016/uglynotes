<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/public/style.css">

    <title>New Note .. uglynotes</title>

    <!-- <script src="https://unpkg.com/jquery@3.5.1/dist/jquery.min.js"></script> -->
    <!-- <script src="https://unpkg.com/dayjs@1.9.7/dayjs.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/marked@1.2.7/lib/marked.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/dompurify@2.2.6/dist/purify.min.js"></script> -->
    <script src="/public/jquery-3.5.1.min.js"></script>
    <script src="/public/dayjs.min.js"></script>
    <script src="/public/marked.min.js"></script>
    <script src="/public/purify.min.js"></script>
  </head>
  <body>
    <div><a href="/home">uglynotes</a> ..
      <span id="where">New Note</span>
      <div id="head-buttons" style="display: none;">
        |
        <a id="readonly-mode" style="display: none;">readonly mode</a>
        |
      </div>
    </div>

    <p id="loading" class="alert-info">Loading...</p>

    <form autocomplete="off">
      <p>
        <input type="radio" id="plaintext" name="note-type" value="plaintext" checked>
        <label for="plaintext" id="plaintext-label">plaintext</label>
        <input type="radio" id="markdown" name="note-type" value="markdown">
        <label for="markdown">markdown</label>
        <a id="preview-btn" href="#" style="display: none;">preview</a>
        <a id="edit-btn" href="#" style="display: none;">edit</a>
        <textarea id="contents" cols="60" rows="10" autofocus
          style="display: block;"></textarea>
      </p>
      <div id="preview" class="markdown-preview" style="display: none;"></div>
      <p>
        <label for="tags" style="display: block;">Tags:</label>
        <textarea id="tags" cols="60" rows="2"></textarea>
      </p>
      <p id="submit-block">
        <input type="submit" value="submit" id="submit">
      </p>
      <p id="update-block" style="display: none;">
        <button id="update">update</button>
        <button id="delete">delete</button>
        <span id="confirm-block" style="display: none; color: red;">
          delete this note?
          <button id="yes">Yes</button>
          <button id="no">No</button>
        </span>
      </p>
    </form>

    <!-- 默认提示位置 -->
    <template id="alert-insert-after-here"></template>

    <!-- 普通提示 -->
    <template id="alert-info-tmpl">
      <p class="alert alert-info">
        <span class="alert-time"></span>
        <span class="alert-message"></span>
        <span class="alert-dismiss" title="dismiss">(&times;)</span>
      </p>
    </template>

    <!-- 成功提示 -->
    <template id="alert-success-tmpl">
      <p class="alert alert-success">
        <span class="alert-time"></span>
        <span class="alert-message"></span>
        <span class="alert-dismiss" title="dismiss">(&times;)</span>
      </p>
    </template>

    <!-- 历史版本成功提示 -->
    <template id="alert-history-tmpl">
      <p class="alert alert-history">
        <span class="alert-time"></span>
        <span class="alert-message">笔记内容更新成功，同时产生历史版本:</span>
        <a class="history-url" target="_blank"></a>
      </p>
    </template>

    <!-- 错误提示 -->
    <template id="alert-danger-tmpl">
      <p class="alert alert-danger">
        <span class="alert-time"></span>
        <span class="alert-message"></span>
        <span class="alert-dismiss" title="dismiss">(&times;)</span>
      </p>
    </template>

    <script src="/public/util.js"></script>
    <script src="/static/note-edit.js"></script>
  </body>
</html>